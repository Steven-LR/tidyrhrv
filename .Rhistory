data.frame() %>%
dplyr::select(HR))
tibble::tibble(x1 = seq(data$contents[1] %>%
data.frame() %>%
dplyr::select(Time) %>%
dplyr::filter(Time < 300) %>% head(1) %>% unlist(),
data$contents[1] %>%
data.frame() %>%
dplyr::select(Time) %>%
dplyr::filter(Time < 300) %>% tail(1) %>% unlist(),
1/4),
y = data$contents[1] %>%
data.frame() %>%
dplyr::select(niHR) %>%
dplyr::filter(Time < 300))
tibble::tibble(x1 = seq(data$contents[1] %>%
data.frame() %>%
dplyr::select(Time) %>%
dplyr::filter(Time < 300) %>% head(1) %>% unlist(),
data$contents[1] %>%
data.frame() %>%
dplyr::select(Time) %>%
dplyr::filter(Time < 300) %>% tail(1) %>% unlist(),
1/4),
y = data$contents[1] %>%
data.frame() %>%
dplyr::filter(Time < 300) %>%
dplyr::select(niHR)
)
RHRV::InterpolateNIHR
tibble::tibble(x1 = seq(data$contents[1] %>%
data.frame() %>%
dplyr::select(Time) %>%
dplyr::filter(Time < 300) %>% head(1) %>% unlist(),
data$contents[1] %>%
data.frame() %>%
dplyr::select(Time) %>%
dplyr::filter(Time < 300) %>% tail(1) %>% unlist(),
1/4)
)
range(data$contents[1] %>%
data.frame() %>%
dplyr::select(Time) %>%
dplyr::filter(Time < 300))
datalims <-range(data$contents[1] %>%
data.frame() %>%
dplyr::select(Time) %>%
dplyr::filter(Time < 300))
hrv.grid <- seq(datalims[1], datalims[2])
y = data$contents[1] %>%
data.frame() %>%
dplyr::select(niHR)
y = data$contents[1] %>%
data.frame() %>%
dplyr::select(niHR) %>%
y = data$contents[1] %>%
data.frame() %>%
dplyr::select(niHR) %>% dplyr::filter(niHR = length(hrv.grid))
y = data$contents[1] %>%
data.frame() %>%
dplyr::select(niHR) %>% dplyr::filter(niHR == length(hrv.grid))
data1 <- data$contents[1] %>% data.frame() %>% dplyr::filter(Time < 300)
mod <- lm(niHR ~ns(Time, df 5), data = data1)
mod <- lm(niHR ~ns(Time, df= 5), data = data1)
mod <- lm(niHR ~splines::ns(Time, df= 5), data = data1)
preInt<- predict(mod, newdata = list(Time = hrv.grid), se=T)
preInt$fit
preInt$fit %>% plot()
hrv.grid <- seq(datalims[1], datalims[2], 1/4)
mod <- smooth.spline(data1$Time, data1$niHR)
preInt<- predict(mod, x = hrv.grid)
predf<- data.frame(pred = preInt$y, time = hrv.grid)
plot(predf)
predf %>% ggplot2::ggplot(ggplot2::aes(x=time, y = pred))+ggplot2::geom_line()
hrv.data$Beat$Time <- predf$time
hrv.data <- RHRV::InterpolateNIHR(HRVData = hrv.data)
hrv.data$Beat
hrv.data <- RHRV::CreateTimeAnalysis(hrv.data)
data$contents[1] %>% na.omit() %>% dim()
data$contents[1] %>% na.omit()
data$contents[1] %>% tail()
data$contents[1] %>% tail(1)
data$contents[1] %>% data.frame() %>% tail(1)
data$contents[1] %>% data.frame() %>% na.omit()
data$contents[1] %>% data.frame() %>% na.omit() %>% dim()
hrv.data=RHRV::CreateHRVData()
hrv.data$Beat <- data$contents[1] %>% data.frame() %>% na.omit()
hrv.data <- RHRV::BuildNIHR(hrv.data)
hrv.data<- RHRV::InterpolateNIHR(hrv.data)
RHRV::PlotNIHR()
RHRV::PlotNIHR
RHRV::PlotNIHR(hrv.data)
hrv.data <- RHRV::CreateTimeAnalysis(hrv.data)
data <- tidyrhrv::read_tilt("/Users/stevenlawrence/Desktop/cumc_github/Robinsonpap/Autonomics raw data/testdata", readr::read_csv) %>% tidyrhrv::prep_data("R-R x", "HR y", "R-R y")
devtools::load_all()
data <- tidyrhrv::read_tilt("/Users/stevenlawrence/Desktop/cumc_github/Robinsonpap/Autonomics raw data/testdata", readr::read_csv) %>% tidyrhrv::prep_data("R-R x", "HR y", "R-R y")
tidyrhrv::plot_tilt(data, "./testPlots/")
devtools::document()
devtools::load_all()
tidyrhrv::plot_tilt(data, "./testPlots/")
devtools::document()
devtools::load_all()
tidyrhrv::plot_tilt(data, "./testPlots/")
tidyrhrv::plot_tilt(data, "./testPlots/")
usethis::use_r("filter_tilt")
data <- tidyrhrv::read_tilt("/Users/stevenlawrence/Desktop/cumc_github/Robinsonpap/Autonomics raw data/testdata", readr::read_csv) %>% tidyrhrv::prep_data("R-R x", "HR y", "R-R y")
devtools::load_all()
data <- tidyrhrv::read_tilt("/Users/stevenlawrence/Desktop/cumc_github/Robinsonpap/Autonomics raw data/testdata", readr::read_csv) %>% tidyrhrv::prep_data("R-R x", "HR y", "R-R y")
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data1)
data1<- tidyrhrv::filter_tilt(data)
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
usethis::use_package("pracma")
install.packages("pracma")
usethis::use_package("pracma")
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
data2<- data$contents[1] %>% data.frame() %>% mutate(niHR = pracma::hampel(niHR,5,3)$y)
data2<- data$contents[1] %>% data.frame() %>% dplyr::mutate(niHR = pracma::hampel(niHR,5,3)$y)
data2<- data$contents[1] %>% data.frame() %>% dplyr::mutate(niHR = pracma::hampel(.,5,3)$y)
data2<- data$contents[1] %>% data.frame()
data2<- data$contents[1] %>% data.frame() %>%  na.omit()
data2<- data$contents[1] %>% data.frame() %>%  na.omit() %>% dplyr::mutate(niHR = 0)
data2<- data$contents[1] %>% data.frame() %>%  na.omit() %>% dplyr::mutate(niHR = pracma::hampel(niHR))
data2<- data$contents[1] %>% data.frame() %>%  na.omit() %>% dplyr::mutate(niHR = pracma::hampel(niHR,5,3))
data2<- data$contents[1] %>% data.frame() %>%  na.omit() %>% dplyr::mutate(niHR = pracma::hampel(niHR,5,3)$y)
data2<- data$contents[1] %>% data.frame() %>%  na.omit() %>% dplyr::mutate(niHR = pracma::hampel(niHR,5,3)$y)
data2<- data$contents[1] %>% data.frame() %>%  na.omit()
data2<- data$contents[1] %>% data.frame() %>%  na.omit() %>% dplyr::mutate(niHR = pracma::hampel(niHR,5,3)$y)
dft<- data2$niHR - data$contents[1] %>% data.frame() %>% na.omit() %>% pull(niHR)
dft<- data2$niHR - data$contents[1] %>% data.frame() %>% na.omit() %>% dplyr::pull(niHR)
table(dft)
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
tidyrhrv::plot_tilt(data,"./testplots/data")
tidyrhrv::plot_tilt(data,"./testplots/data/")
ggplot2::ggplot()+ggplot2::geom_line(data$contents[1],ggplot2::aes(x=Time,y=niHR,col = "red"))+ggplot2::geom_line(data1$contents[1], ggplot2::aes(x=Time, y=niHR,col="blue"))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[1] %>% data.frame(),ggplot2::aes(x=Time,y=niHR,col = "red"))+ggplot2::geom_line(data = data1$contents[1] %>% data.frame(), ggplot2::aes(x=Time, y=niHR,col="blue"))
ggplot2::ggplot(ggplot2::alpha(0.3))+ggplot2::geom_line(data=data$contents[1] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red"))+ggplot2::geom_line(data = data1$contents[1] %>% data.frame(), ggplot2::aes(x=Time, y=niHR,col="blue"))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[1] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red"))+ggplot2::geom_line(data = data1$contents[1] %>% data.frame(), ggplot2::aes(x=Time, y=niHR,col="blue"))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[1] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[1] %>% data.frame(), ggplot2::aes(x=Time, y=niHR,col="blue",aplpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[1] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[1] %>% data.frame(), ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[1] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[1] %>% data.frame(), ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
data1<- tidyrhrv::filter_tilt(data)
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[1] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[1] %>% data.frame(), ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
data1<- tidyrhrv::filter_tilt(data)
devtools::document()
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
devtools::document()
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[1] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[1] %>% data.frame(), ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[1] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))
ggplot2::ggplot()++ggplot2::geom_line(data = data1$contents[1] %>% data.frame(), ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data = data1$contents[1] %>% data.frame(), ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data = data1$contents[2] %>% data.frame(), ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame(), ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit() %>% dplyr::filter(Time<=300),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame(), ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit() %>% dplyr::filter(Time<=300),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  %>% dplyr::filter(Time<=300), ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit() %>% dplyr::filter(Time<=300),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  %>% dplyr::filter(Time<=300), ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
devtools::document()
data1<- tidyrhrv::filter_tilt(data)
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
data3<- tidyrhrv::filter_tilt(data)
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
devtools::load_all()
data <- tidyrhrv::read_tilt("/Users/stevenlawrence/Desktop/cumc_github/Robinsonpap/Autonomics raw data/testdata", readr::read_csv) %>% tidyrhrv::prep_data("R-R x", "HR y", "R-R y")
data <- tidyrhrv::read_tilt("/Users/stevenlawrence/Desktop/cumc_github/Robinsonpap/Autonomics raw data/testdata", readr::read_csv) %>% tidyrhrv::prep_data("R-R x", "HR y", "R-R y") %>% tidyrhrv::prep_data("R-R x", "HR y", "R-R y")
data1<- tidyrhrv::filter_tilt(data)
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
ggplot2::ggplot(x = Time, y = niHR )+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(col="blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[1] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[1] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[1] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[1] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data)
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[1] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[1] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="Blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,colours="black",alpha=0.3))
devtools::document()
data1<- tidyrhrv::filter_tilt(data,1.01,0.99)
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="Blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
median(data$contents[2] %>% data.frame() %>% na.omit() %>% dplyr::pull(niHR))
1.10*76.43
mean(data$contents[2] %>% data.frame() %>% na.omit() %>% dplyr::pull(niHR))
median(data1$contents[2] %>% data.frame() %>% na.omit() %>% dplyr::pull(niHR))
mean(data1$contents[2] %>% data.frame() %>% na.omit() %>% dplyr::pull(niHR))
devtools::load_all()
devtools::document()
devtools::load_all()
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data,1.01,0.99)
median(data1$contents[2] %>% data.frame() %>% na.omit() %>% dplyr::pull(niHR))
median(data$contents[2] %>% data.frame() %>% na.omit() %>% dplyr::pull(niHR))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame() %>% dplyr::mutate(niHR=pracma::hampel(niHR,5,3)$y)  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data,1.10,0.90)
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data,1.10,0.90)
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
devtools::document()
devtools::load_all()
data1<- tidyrhrv::filter_tilt(data,1.10,0.90)
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
devtools::load_all()
data <- tidyrhrv::read_tilt("/Users/stevenlawrence/Desktop/cumc_github/Robinsonpap/Autonomics raw data/testdata", readr::read_csv) %>% tidyrhrv::prep_data("R-R x", "HR y", "R-R y") %>% tidyrhrv::filter_tilt(1.20,.80)
install.packages("vroom")
data_v <- tidyrhrv::read_tilt("/Users/stevenlawrence/Desktop/cumc_github/Robinsonpap/Autonomics raw data/testdata", vroom::vroom) %>% tidyrhrv::prep_data("R-R x", "HR y", "R-R y") %>% tidyrhrv::filter_tilt(1.20,.80)
devtools::document()
devtools::document()
data %>% tidyrhrv::plot_tilt("./testplot1","filtered")
devtools::document()
data %>% tidyrhrv::plot_tilt("./testplot1","filtered")
data %>% tidyrhrv::plot_tilt("./testplot2","filtered")
x=teeth.csv
x="teeth.csv"
gsub("eeth",x)
gsub("eeth",x=x)
gsub("eeth"," ",x=x)
devtools::document()
data %>% tidyrhrv::plot_tilt("./testplot3","filtered")
devtools::document()
data %>% tidyrhrv::plot_tilt("./testplot4","filtered")
devtools::document()
data %>% tidyrhrv::plot_tilt("./testplot5","filtered")
devtools::document()
data %>% tidyrhrv::plot_tilt("./testplot5","filtered")
data %>% tidyrhrv::plot_tilt("./testplot6","filtered")
dir.create("./testplots")
devtools::document()
data %>% tidyrhrv::plot_tilt("./testplots","filtered")
devtools::document()
data %>% tidyrhrv::plot_tilt("./testplots","filtered")
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
data %>% tidyrhrv::plot_tilt("./testplots","filtered")
data_t<- data %>% tidyrhrv::plot_tilt("./testplots","filtered")
data_t %>% tidyr::unnest(cols = c(.)) %>% data.frame()
data_t  %>% data.frame()%>% tidyr::unnest(cols = c(.))
data_t  %>% data.frame()%>% tidyr::unnest(cols = c(.)) %>% data.frame()
data_tt <-data_t  %>% data.frame()%>% tidyr::unnest(cols = c(.)) %>% data.frame()
data_tt <-data_t  %>% data.frame()
data_tt <-data_t  %>% tibble::tibble()
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))+ggplot2::geom_line(data = data1$contents[2] %>% data.frame()  , ggplot2::aes(x=Time, y=niHR,col="blue",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[3] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[2] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))
ggplot2::ggplot()+ggplot2::geom_line(data=data$contents[1] %>% data.frame() %>% na.omit(),ggplot2::aes(x=Time,y=niHR,col = "red",alpha=0.3))
usethis::use_release_issue()
install.packages("gitcreds")
install.packages("gitcreds")
gitcreds::gitcreds_set()
credentials::set_github_pat()
gitcreds::gitcreds_set()
usethis::use_release_issue()
credentials::git_credential_update()
usethis::use_release_issue()
credentials::git_credential_update()
usethis::use_release_issue()
gitcreds::gitcreds_set()
credentials::git_credential_update()
gitcreds::gitcreds_set()
usethis::use_release_issue()
usethis::use_release_issue()
gh::gh_whoami()
gh::gh_whoami()
browse_github_pat()
usethis::browse_github_pat()
usethis::edit_r_environ()
gh::gh_whoami()
gh::gh_whoami()
usethis::use_release_issue()
devtools::check(remote = T)
devtools::check(remote = T)
devtools::check(remote = T)
devtools::check(remote = T)
install.packages("pandoc")
install.packages("rorcid")
install.packages("desc")
install.packages("desc")
install.packages("whoami")
desc::desc_add_me()
desc::desc_add_me()
devtools::check(remote = T, manual = T)
devtools::check(remote = T, manual = T)
rhub::check_for_cran()
install.packages("rhub")
rhub::check_for_cran()
devtools::check_win_devel()
urlchecker::url_check()
install.packages("urlchecker")
urlchecker::url_check()
usethis::use_version('major')
devtools::submit_cran()
usethis::use_package(c("smooth.spline","stats", "median", "na.omit", "predict","utils"), type = "Imports")
usethis::use_package("smooth.spline", type = "Imports")
install.packages("smooth.spline")
install.packages("smooth.spline")
usethis::use_package("smooth.spline", type = "Imports")
usethis::use_package("utils", type = "Imports")
packages <- c("stats", "median", "na.omit", "predict")
invisible(lapply(packages, usethis::use_package, character_only = T))
invisible(lapply(packages, usethis::use_package, character.only = T))
invisible(lapply(packages, usethis::use_package, character.only = TRUE))
invisible(lapply(packages, usethis::use_package))
usethis::use_package("na.omit", type = "Imports")
stat::na.omit()
usethis::use_package("stats", type = "Imports")
usethis::use_package("grDevices", type = "Imports")
devtools::submit_cran()
devtools::load_all()
comp<- readr::read_csv("/Users/stevenlawrence/Desktop/cumc/Robinsonpap/Autonomics raw data/COMPASS.csv")
mean(comp$filter_rmssd)/mean(comp$raw_rmssd)
mean(comp$filter_pnn50)/mean(comp$raw_pnn50)
angi<- readr::read_csv("/Users/stevenlawrence/Desktop/cumc/Robinsonpap/Autonomics raw data/ANGI.csv")
mean(angi$filter_rmssd)/mean(angi$raw_rmssd)
mean(angi$filter_pnn50)/mean(angi$raw_pnn50)
hipp<- readr::read_csv("/Users/stevenlawrence/Desktop/cumc/Robinsonpap/Autonomics raw data/HIPP.csv")
mean(hipp$filter_rmssd)/mean(hipp$raw_rmssd)
mean(hipp$filter_pnn50)/mean(hipp$raw_pnn50)
k23<- readr::read_csv("/Users/stevenlawrence/Desktop/cumc/Robinsonpap/Autonomics raw data/K23HIV.csv")
mean(k23$filter_rmssd)/mean(k23$raw_rmssd)
mean(k23$filter_pnn50)/mean(k23$raw_pnn50)
msbr<- readr::read_csv("/Users/stevenlawrence/Desktop/cumc/Robinsonpap/Autonomics raw data/MSBR.csv")
mbsr<- readr::read_csv("/Users/stevenlawrence/Desktop/cumc/Robinsonpap/Autonomics raw data/MBSR.csv")
mean(mbsr$filter_rmssd)/mean(mbsr$raw_rmssd)
mean(mbsr$filter_pnn50)/mean(mbsr$raw_pnn50)
devtools::submit_cran()
devtools::submit_cran()
devtools::check_win_devel()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
usethis::use_release_issue()
devtools::check()
devtools::load_all()
devtools::document()
devtools::check()
devtools::document()
devtools::document()
devtools::check()
devtools::check()
devtools::check_man()
devtools::check_rhub()
devtools::check_built()
devtools::check()
check()
devtools::install()
devtools::check()
devtools::load_all()
devtools::document()
devtools::check()
usethis::use_release_issue()
usethis::use_cran_comments()
usethis::use_version("minor")
usethis::use_version("minor")
devtools::submit_cran()
ulrchecker::ulr_check()
install.packages("ulrchecker")
urlchecker::url_check()
devtools::check(remote = TRUE, manual = TRUE)
install.packages("pandoc")
install.packages("pandoc")
devtools::check(remote = TRUE, manual = TRUE)
devtools::document("plot_tilt.R")
devtools::document()
devtools::check(remote = TRUE, manual = TRUE)
devtools::document()
devtools::document()
devtools::check(remote = TRUE, manual = TRUE)
devtools::document()
devtools::check(remote = TRUE, manual = TRUE)
devtools::document()
devtools::check(remote = TRUE, manual = TRUE)
pracma::hampel(rnorm(50,2,4),5,5)
pracma::hampel(rnorm(50,2,4),5,5)[1]
devtools::document()
devtools::check(remote = TRUE, manual = TRUE)
tibble(r = rnorm(50, 700,5)) %>% dplyr::mutate(r = pracma::hampel(r, 5,5)[1])
tibble::tibble(r = rnorm(50, 700,5)) %>% dplyr::mutate(r = pracma::hampel(r, 5,5)[1])
tibble::tibble(r = rnorm(50, 700,5))
tibble::tibble(r = rnorm(50, 700,5)) %>% dplyr::mutate(k = pracma::hampel(r, 5,5)[1])
tibble::tibble(r = rnorm(50, 700,5)) %>% dplyr::mutate(k = pracma::hampel(r, 5,5)$y)
tibble::tibble(r = rnorm(50, 700,5)) %>% dplyr::mutate(k = [pracma::hampel(r, 5,5)$y])
tibble::tibble(r = rnorm(50, 700,5)) %>% dplyr::mutate(k = pracma::hampel(r, 5,5)$y)
base::data.frame(r = rnorm(50, 700,5)) %>% dplyr::mutate(k = pracma::hampel(r, 5,5)$y)
usethis::use_test("filter_tilt"")
devtools::document()
devtools::uses_testthat(filter_tilt)
devtools::load_all()
datasets <- read_tilt("./data/ANGI-083002.txt", readr::read_delim)
datasets <- read_tilt("./data", readr::read_delim)
datasets <- read_tilt("./data", readr::read_csv)
prep_data(datasets, "R-R x", "HR x", "R-R y")
preped_data<- prep_data(datasets, "R-R x", "HR x", "R-R y")
orignial_anal <- preped_data %>% filter_tilt(1.10, 90)
orignial_anal <- preped_data %>% filter_tilt(1.10, 90)
orignial_anal <- preped_data %>% plot_tilt(".","origin")
orignial_anal <- preped_data %>% filter_tilt(1.10, 90) %>% plot(".","filt")
devtools::document()
devtools::load_all()
orignial_anal <- preped_data %>% filter_tilt(1.10, 90) %>% plot(".","filt")
preped_data$contents
preped_data$contents[1] %>% mutate(niHR = pracma::hampel(niHR, 5,5)$y)
preped_data$contents[1] %>% dplyr::mutate(niHR = pracma::hampel(niHR, 5,5)$y)
library(tidyverse)
preped_data$contents[1] %>% dplyr::mutate(niHR = pracma::hampel(niHR, 5,5)$y)
preped_data$contents[1]
preped_data$contents[1] %>% data.frame()
preped_data$contents[1] %>% data.frame() %>%  dplyr::mutate(niHR = pracma::hampel(niHR, 5,5)$y)
preped_data$contents[1] %>% data.frame() %>%  dplyr::mutate(niHR = pracma::hampel(niHR, 5,5)[1])
preped_data$contents[1] %>% data.frame() %>%  dplyr::mutate(niHR = pracma::hampel(niHR, 5,5)$y)
preped_data$contents[1] %>% data.frame() %>%  dplyr::mutate(niHR = pracma::hampel(niHR, 5,3)$y)
preped_data$contents[1] %>% data.frame() %>%  dplyr::mutate(niHR = pracma::hampel(niHR, 5,5))
preped_data$contents[1] %>% data.frame() %>%  dplyr::mutate(niHR = niHR-1)
preped_data$contents[1] %>% data.frame() %>%  dplyr::mutate(niHR = pracma::hampel(niHR))
preped_data$contents[1] %>% data.frame() %>%  dplyr::mutate(niHR = pracma::hampel(niHR,5,5))
preped_data$contents[1] %>% data.frame() %>%  dplyr::mutate(niHR = pracma::hampel(niHR,5,5)$y)
preped_data$contents[1] %>% data.frame() %>%  dplyr::mutate(niHR = pracma::hampel(niHR,5,5)$y)
preped_data$contents[1] %>% data.frame() %>% na.omit() %>%  dplyr::mutate(niHR = pracma::hampel(niHR,5,5)$y)
devtools::document()
devtools::load_all()
preped_data$contents[1] %>% data.frame() %>%  dplyr::mutate(niHR = pracma::hampel(niHR,5,5)$y)
filt_anal <- preped_data %>% filter_tilt(1.10, 90) %>% plot(".","filt")
devtools::check(remote = TRUE, manual = TRUE)
devtools::document()
devtools::load_all()
devtools::check(remote = TRUE, manual = TRUE)
devtools::document()
devtools::check(remote = TRUE, manual = TRUE)
install.packages("tidyverse")
install.packages("tidyverse")
devtools::check(remote = TRUE, manual = TRUE)
